# LeetCode 319 灯泡开关

完全平方数

开关变化与轮数的倍数有关, 变化次数与位置的因式分解结果挂钩, 最终状态则表示分解数量的奇/偶

辣么

位置 | 分解结果
:---:|:---:
1 | 1
2 | 1, 2
3 | 1, 3
4 | 1, 2, 4
... | ...
9 | 1, 3, 9
... | ...
16 | 1, 2, 4, 8, 16

分解结果奇数个, 则最终灯亮, 反之则灯灭

设一个数 x 分解结果为 $a_1$, $a_2$, $a_3$, ... , $a_n$, 分解数量为$c_x$

由于分解结果与乘法挂钩, 则 $a_1 * a_n$ = $a_2 * a_{n-1} = x$

由于 $a_i$ != $a_j$, 分解结果成对出现时, $c_x$为偶数

如果存在 $a_i^2 = x$, 则 i 必定为中点, $c_x$为奇数

此时 x 就是完全平方数, 最终结果即对输入的n开根号...
